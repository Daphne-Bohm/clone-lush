/*!
 * jQuery.ellipsis
 * Adapted from: http://github.com/jjenzz/jquery.ellipsis
 * --------------------------------------------------------------------------
 * Copyright (c) 2013 J. Smith (@jjenzz)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";function n(n,o){function l(){y.text=y.$cont.text(),y.opts.ellipLineClass=y.opts.ellipClass+"-line",y.$el=t('<span class="'+y.opts.ellipClass+'" />'),y.$el.text(y.text),y.$cont.empty().append(y.$el).css("display","block"),r()}function p(t){v[t]='<span class="'+y.opts.ellipLineClass+'">'+v[t],v.push("</span>"),y.$el.html(v.join(" "))}function a(t){return String(t).replace(/[&<>"'\/]/g,function(t){return m[t]})}function r(){return"number"==typeof y.opts.lines&&y.opts.lines<2?void y.$el.addClass(y.opts.ellipLineClass):(d=y.$cont.height(),$=y.$cont.width(),void("auto"===y.opts.lines&&y.$el.prop("scrollHeight")<=d||u&&(v=t.trim(a(y.text)).split(/\s+/),y.$el.html(s+v.join("</span> "+s)+"</span>"),y.$el.find("span").each(u),"number"==typeof c&&p(c))))}var u,c,f,h,d,$,v,m,y=this,w=0,x=[];if(m={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},y.$cont=t(n),y.opts=t.extend({},i,o),"auto"===y.opts.lines){var g=function(n,e){var s=t(e),i=s.position().top;return h=h||s.height(),i===f?x[w].push(s):(f=i,w+=1,x[w]=[s]),i+h>d?(c=n-x[w-1].length,!1):void 0};u=g}if("number"==typeof y.opts.lines&&y.opts.lines>1){var C=function(n,e){var s=t(e),i=s.position().top;return i!==f&&(f=i,w+=1),w===y.opts.lines?(c=n,!1):s.width()>=$?(c=n>0?n-1:0,!1):void 0};u=C}if(y.opts.responsive){var b=function(){x=[],w=0,f=null,c=null,y.$el.html(y.text),r()};t(window).on("resize."+e,b)}l()}var e="ellipsis",s='<span style="white-space: nowrap;">',i={lines:"auto",ellipClass:"ellip",responsive:!1};t.fn[e]=function(s){return this.each(function(){try{t(this).data(e,new n(this,s))}catch(i){window.console&&console.error(e+": "+i)}})}});